# name: Provision GKE Cluster

# on:
#   push:
#     branches: [main]

# jobs:
#   terraform:
#     name: Apply Terraform
#     runs-on: ubuntu-latest

#     env:
#       GOOGLE_CREDENTIALS: ${{ secrets.GCP_SA_KEY }}

#     steps:
#     - name: Checkout repo
#       uses: actions/checkout@v4

#     - name: Setup Terraform
#       uses: hashicorp/setup-terraform@v3
#       with:
#         terraform_version: 1.6.6

#     - name: Write GCP credentials to file
#       run: echo "${GOOGLE_CREDENTIALS}" > gcp-creds.json

#     - name: Terraform Init
#       run: terraform init

#     - name: Terraform Plan
#       run: terraform plan -var-file="terraform.tfvars"

#     - name: Terraform Apply
#       run: terraform apply -auto-approve -var-file="terraform.tfvars"
